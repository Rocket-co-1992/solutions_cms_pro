!function(t){t.fn.imagefill=function(i){var h=this,e=h.find("img").css({position:"absolute"}),o=1,n=0,s=0,d=t.extend({},{runOnce:!1,throttle:200},i),u=h.css("position");function c(){n=0,s=0,h.each(function(){o=t(this).find("img").width()/t(this).find("img").height();var i=t(this).outerWidth(),h=t(this).outerHeight();n+=t(this).outerHeight(),s+=t(this).outerWidth(),i/h<o?t(this).find("img").css({width:"auto",height:h,top:0,left:-(h*o-i)/2}):t(this).find("img").css({width:i,height:"auto",top:-(i/o-h)/2,left:0})})}return h.css({overflow:"hidden",position:"static"===u?"relative":u}),h.each(function(){n+=t(this).outerHeight(),s+=t(this).outerWidth()}),h.imagesLoaded().done(function(i){o=e.width()/e.height(),e.addClass("loaded"),c(),d.runOnce||function i(){var e=0,o=0;h.each(function(){o+=t(this).outerHeight(),e+=t(this).outerWidth()}),(n!==o||s!==e)&&c(),setTimeout(i,d.throttle)}()}),this}}(jQuery);
